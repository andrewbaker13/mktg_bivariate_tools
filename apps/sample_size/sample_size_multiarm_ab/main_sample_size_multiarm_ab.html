<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sample Size Planner — Multi-arm A/B Tests</title>
  <link rel="stylesheet" href="../../../shared/css/main.css">
    <script src="../../../shared/js/tracking.js"></script>
  <link rel="stylesheet" href="../../../shared/css/auth_bar.css">
  <link rel="stylesheet" href="main_sample_size_multiarm_ab.css">
  <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
  <script src="../../../shared/js/stats_utils.js"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-290ZJ9RE04"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-290ZJ9RE04');
    </script>
</head><body>
  <div class="auth-bar">
    <div class="auth-bar__container">
      <div></div>
      <div id="auth-bar-content" class="auth-bar__links">
        <a href="../../login.html">Login</a>
        <a href="../../register.html">Create Account</a>
      </div>
    </div>
  </div>
  <main class="app-main">
    <header class="intro hero-header">
      <div class="hero-header__top">
        <h1>Sample Size Planner</h1>
        <div class="hero-context">
          <span class="badge">Multi-arm A/B tests</span>
        </div>
      </div>
      <p class="hero-header__lede">
        Plan per-arm and total sample size for experiments with one control and multiple variants (A/B/C/…) on either
        conversion rates or means. Choose whether you care most about detecting a minimum lift vs. control for each arm
        or about any meaningful difference across all arms.
      </p>
    </header>

    <section class="test-overview" aria-labelledby="test-overview-heading">
      <h2 id="test-overview-heading">TEST OVERVIEW &amp; EQUATIONS</h2>
      <div class="card">
        <p>
          This planner extends a two-arm A/B test to <em>k-arm</em> experiments with one control group and multiple
          variants (for example, one control subject line and three new lines). You can choose between testing
          <strong>proportions</strong> (conversion or response rates) and <strong>means</strong> (average order value,
          revenue, etc.).
        </p>
        <p>
          For a given outcome type, the underlying math uses pairwise comparisons between each variant and the control.
          When your goal is to detect a <strong>minimum lift vs. control</strong>, the planner computes the required
          per-arm sample size for each variant–control comparison and then takes the maximum so that all lifts you care
          about are adequately powered. When your goal is to detect an <strong>omnibus difference</strong>, the same
          effect pattern is used but the focus is on having enough power to flag that at least one arm differs
          meaningfully from control.
        </p>
        <details class="intro-notes">
          <summary>Notes on alpha, power, and multiple arms</summary>
          <p>
            Adding more arms spreads traffic thinner and increases the chance of spurious findings if you do not adjust
            your decision rules. In the <strong>“lift vs. control”</strong> goal, this planner uses a simple
            Bonferroni-style adjustment to keep the overall false-positive rate across all variant–control comparisons
            close to your chosen alpha. In the <strong>“omnibus”</strong> goal, it uses the nominal alpha level and asks
            whether the design has enough power to detect that at least one arm differs from control by the specified
            amount.
          </p>
        </details>
      </div>
    </section>

    <section class="input-card" aria-labelledby="inputs-heading">
      <h2 id="inputs-heading">INPUTS &amp; SETTINGS</h2>
      <article class="card data-entry-card">
        <div class="input-header">
          <h3>Design the multi-arm test</h3>
        </div>

        <div class="mode-toggle" role="tablist" aria-label="Outcome type">
          <button type="button" class="mode-button active" data-mode="proportion">Proportions (rates)</button>
          <button type="button" class="mode-button" data-mode="mean">Means (averages)</button>
        </div>

        <div class="mode-panels">
          <div class="mode-panel active" data-mode="proportion" id="panel-proportion">
            <article class="group-controls">
              <h4>Arms &amp; target conversion rates</h4>
              <p class="hint">
                Specify the expected conversion or response rate for the control and each variant. The planner will
                compute the minimum per-arm sample size to detect the differences you have entered at your chosen
                confidence and power.
              </p>
              <div class="arm-table">
                <div class="arm-row arm-header">
                  <span>Arm</span>
                  <span>Label</span>
                  <span>Target rate</span>
                </div>
                <div class="arm-row">
                  <span class="arm-tag">Control (A)</span>
                  <input type="text" class="arm-label-input" id="arm-label-0" value="Control">
                  <input type="number" class="arm-rate-input" id="arm-rate-0" min="0.001" max="0.999" step="0.001" value="0.200">
                </div>
                <div class="arm-row">
                  <span class="arm-tag">Variant B</span>
                  <input type="text" class="arm-label-input" id="arm-label-1" value="Variant B">
                  <input type="number" class="arm-rate-input" id="arm-rate-1" min="0.001" max="0.999" step="0.001" value="0.230">
                </div>
                <div class="arm-row">
                  <span class="arm-tag">Variant C</span>
                  <input type="text" class="arm-label-input" id="arm-label-2" value="Variant C">
                  <input type="number" class="arm-rate-input" id="arm-rate-2" min="0.001" max="0.999" step="0.001" value="0.235">
                </div>
                <div class="arm-row">
                  <span class="arm-tag">Variant D</span>
                  <input type="text" class="arm-label-input" id="arm-label-3" value="Variant D">
                  <input type="number" class="arm-rate-input" id="arm-rate-3" min="0.001" max="0.999" step="0.001" value="0.240">
                </div>
              </div>
            </article>
          </div>

          <div class="mode-panel" data-mode="mean" id="panel-mean">
            <article class="group-controls">
              <h4>Arms, target means, and variability</h4>
              <p class="hint">
                Specify the expected mean outcome for the control and each variant, along with a common standard
                deviation. The planner assumes roughly equal variability across arms.
              </p>
              <div class="arm-table">
                <div class="arm-row arm-header">
                  <span>Arm</span>
                  <span>Label</span>
                  <span>Target mean</span>
                </div>
                <div class="arm-row">
                  <span class="arm-tag">Control (A)</span>
                  <input type="text" class="arm-label-input" id="arm-mean-label-0" value="Control">
                  <input type="number" class="arm-rate-input" id="arm-mean-0" step="0.1" value="50">
                </div>
                <div class="arm-row">
                  <span class="arm-tag">Variant B</span>
                  <input type="text" class="arm-label-input" id="arm-mean-label-1" value="Variant B">
                  <input type="number" class="arm-rate-input" id="arm-mean-1" step="0.1" value="53">
                </div>
                <div class="arm-row">
                  <span class="arm-tag">Variant C</span>
                  <input type="text" class="arm-label-input" id="arm-mean-label-2" value="Variant C">
                  <input type="number" class="arm-rate-input" id="arm-mean-2" step="0.1" value="54">
                </div>
                <div class="arm-row">
                  <span class="arm-tag">Variant D</span>
                  <input type="text" class="arm-label-input" id="arm-mean-label-3" value="Variant D">
                  <input type="number" class="arm-rate-input" id="arm-mean-3" step="0.1" value="55">
                </div>
              </div>
              <div class="input-grid" style="margin-top:0.75rem;">
                <div>
                  <label for="sigma">Common standard deviation</label>
                  <input type="number" id="sigma" min="0.0001" step="0.1" value="15">
                  <p class="hint">Rough measure of spread around each arm’s mean (for example, dollars or points).</p>
                </div>
              </div>
            </article>
          </div>
        </div>

        <div class="input-grid" style="margin-top:1rem;">
          <div>
            <label>Test goal</label>
            <div class="goal-buttons" aria-label="Test goal">
              <button class="goal-button active" data-goal="lift">Minimum lift vs. control</button>
              <button class="goal-button" data-goal="omnibus">Any difference across arms (omnibus)</button>
            </div>
            <p class="hint">
              Lift vs. control focuses on detecting a meaningful improvement for each variant separately. Omnibus focuses
              on detecting that at least one arm differs meaningfully from control.
            </p>
          </div>
          <div>
            <label>Confidence &amp; power</label>
            <div class="confidence-buttons" aria-label="Confidence level">
              <button class="confidence-button" data-level="0.90">90% Conf.</button>
              <button class="confidence-button active" data-level="0.95">95% Conf.</button>
              <button class="confidence-button" data-level="0.99">99% Conf.</button>
            </div>
            <label for="alpha" style="margin-top:0.25rem;">Significance level (&alpha;)</label>
            <input type="number" id="alpha" min="0.001" max="0.2" step="0.001" value="0.050">
            <p class="hint">Confidence = 1 - alpha for a two-sided test.</p>
            <label for="power" style="margin-top:0.5rem;">Desired power</label>
            <input type="number" id="power" min="0.5" max="0.99" step="0.01" value="0.80">
            <p class="hint">Common choices are 80% or 90% power.</p>
          </div>
        </div>

        <details class="advanced-details" style="margin-top:0.75rem;">
          <summary>Advanced settings</summary>
          <div class="input-grid" style="margin-top:0.5rem;">
            <div>
              <label for="sidedness">Test type</label>
              <select id="sidedness">
                <option value="two">Two-sided (default)</option>
                <option value="one">One-sided</option>
              </select>
              <p class="hint">
                Two-sided tests are standard when any increase or decrease matters. One-sided tests can be used when you
                only care about improvements relative to control, but they ignore strong evidence of a decrease.
              </p>
            </div>
          </div>
        </details>
      </article>
    </section>

    <section class="scenario-section" aria-labelledby="scenario-heading">
      <h2 id="scenario-heading">PLANNING SCENARIOS</h2>
      <div class="card">
        <div class="scenario-controls">
          <label for="scenario-select">Load a multi-arm scenario</label>
          <div class="scenario-controls__input">
            <select id="scenario-select">
              <option value="">Manual inputs (no preset)</option>
            </select>
          </div>
        </div>
        <div id="scenario-description">
          <p>
            Use presets to explore common marketing multi-arm tests, such as three competing subject lines or four
            hero images on a landing page. Each scenario sets control and variant targets, a goal, and default
            confidence/power.
          </p>
        </div>
      </div>
    </section>

    <section class="visual-output" aria-labelledby="visual-output-heading">
      <h2 id="visual-output-heading">VISUAL OUTPUT</h2>
      <div class="card">
        <div class="chart-grid">
          <article class="chart-card">
            <h3>Required per-arm sample vs. effect size</h3>
            <div id="chart-effect" class="chart-placeholder"></div>
            <p id="chart-effect-note" class="chart-note">
              This chart shows how the required per-arm sample size changes as the smallest lift vs. control you care
              about becomes larger. Stronger lifts reduce the required per-arm sample size for a fixed confidence and
              power.
            </p>
          </article>
          <article class="chart-card">
            <h3>Required per-arm sample vs. power</h3>
            <div id="chart-power" class="chart-placeholder"></div>
            <p id="chart-power-note" class="chart-note">
              This chart plots the required per-arm sample size against desired power, holding the effect pattern and
              alpha fixed. Higher power always requires a larger per-arm n.
            </p>
          </article>
        </div>
      </div>
    </section>

    <section class="test-results" aria-labelledby="test-results-heading">
      <h2 id="test-results-heading">DESIGN SUMMARY</h2>
      <div class="card metrics-panel">
        <div class="metric-output">
          <span>Required per-arm sample size (n):</span>
          <span id="metric-n-per-arm" class="dynamic-value">&ndash;</span>
        </div>
        <div class="metric-output">
          <span>Total required sample size (N total):</span>
          <span id="metric-n-total" class="dynamic-value">&ndash;</span>
        </div>
        <div class="metric-output">
          <span>Outcome type:</span>
          <span id="metric-outcome" class="dynamic-value">&ndash;</span>
        </div>
        <div class="metric-output">
          <span>Goal:</span>
          <span id="metric-goal" class="dynamic-value">&ndash;</span>
        </div>
        <div class="metric-output">
          <span>Design alpha / confidence:</span>
          <span id="metric-alpha" class="dynamic-value">&ndash;</span>
        </div>
        <div class="metric-output">
          <span>Design power:</span>
          <span id="metric-power" class="dynamic-value">&ndash;</span>
        </div>
      </div>

      <div class="card" style="margin-top:1rem;">
        <h3>Per-arm summary vs. control</h3>
        <div id="arm-summary-table">
          <p class="muted">Enter control and variant targets above to see a summary of lifts and required n per arm.</p>
        </div>
      </div>

      <div class="dual-panels">
        <article class="card dual-panel">
          <h3>Statistical Planning Statement</h3>
          <p id="apa-report">
            Provide control and variant targets, choose a goal (lift vs. control or omnibus), and set alpha and power
            to generate a planning statement for this multi-arm design.
          </p>
        </article>
        <article class="card dual-panel">
          <h3>Managerial Interpretation</h3>
          <p id="managerial-report">
            This panel translates the design into plain language: how many observations per arm you need, how that
            depends on the minimum lift you care about, and how often the experiment would succeed in flagging a real
            winner vs. looking inconclusive just because of noise.
          </p>
        </article>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <div class="footer-content">
        <div class="footer-nav">
            <a href="../../../index.html">← Back to Tool Selection</a>
        </div>
        <div class="footer-meta">
            <span>Created: <span id="created-date">2025-11-24</span></span>
            <span class="meta-separator">&bull;</span>
            <span>Last Updated: <span id="modified-date">2025-12-11</span></span>
        </div>
        <div class="footer-citation">
            <span class="citation-label">Cite this tool</span>
            <p class="citation-text">
                Baker, A. (2025). <em>Sample Size Planner (Multi-arm A/B Tests)</em>. Marketing Analysis Tools.
                <br>
                <span style="font-size: 0.85em; color: #6b7280;">Retrieved from: https://drbakermarketing.com/apps/sample_size/sample_size_multiarm_ab/main_sample_size_multiarm_ab.html</span>
            </p>
        </div>
        <div class="footer-copyright">
            &copy; 2025 Andrew Baker. All rights reserved.
        </div>
    </div>
  </footer>

  <script src="../../../shared/js/ui_utils.js"></script>
  <script src="../../../shared/js/auth_tracking.js"></script>
  <script src="../../../shared/js/auth_bar.js"></script>
  <script src="../../../shared/js/quiz_utils.js"></script>
  <script src="main_sample_size_multiarm_ab.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      initQuizButton('sample_size_multiarm_ab');
    });
  </script>
</body>

</html>
