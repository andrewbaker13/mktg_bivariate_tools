<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sentiment Analysis Lab</title>
  <link rel="stylesheet" href="../../../shared/css/main.css">
    <script src="../../../shared/js/tracking.js"></script>
  <link rel="stylesheet" href="../../../shared/css/auth_bar.css">
  <link rel="stylesheet" href="sentiment_lab.css">
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-290ZJ9RE04"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-290ZJ9RE04');
    </script>
</head><body>
  <div class="auth-bar">
    <div class="auth-bar__container">
      <div></div>
      <div id="auth-bar-content" class="auth-bar__links">
        <a href="../../../admin_pages/login.html">Login</a>
        <a href="../../../admin_pages/register.html">Create Account</a>
      </div>
    </div>
  </div>
  <main class="app-main">
    <header class="intro hero-header">
      <div class="hero-header__top">
        <h1>Sentiment Analysis Lab</h1>
        <div class="hero-context">
          <span class="badge">Text Analysis</span>
        </div>
      </div>
      <p class="hero-header__lede">
        Upload text data and explore how lexicon-based sentiment analysis scores each record. This lab uses a VADER-style
        approach and walks through both overall scores and a detailed, token-by-token breakdown for a sample sentence.
      </p>
    </header>

    <section class="test-overview" aria-labelledby="sentiment-overview-heading">
      <h2 id="sentiment-overview-heading">OVERVIEW &amp; CONCEPTS</h2>
      <div class="card">
        <h3 style="margin-top:0;">What is Sentiment Analysis?</h3>
        <p>
          <strong>Sentiment analysis</strong> is a text analytics technique that automatically determines whether a piece of text 
          expresses a positive, negative, or neutral opinion. It's widely used in marketing to analyze customer reviews, 
          social media posts, survey responses, and any other text-based feedback at scale.
        </p>
        <p>
          Instead of reading thousands of comments manually, sentiment analysis lets you quickly answer questions like:
          <em>"Are customers happy with our new product?"</em> or <em>"How does sentiment differ between our brand and competitors?"</em>
        </p>
        
        <details class="intro-notes" open>
          <summary>How VADER Works</summary>
          <p>
            This lab uses <strong>VADER</strong> (Valence Aware Dictionary and sEntiment Reasoner), a rule-based sentiment 
            analysis tool specifically designed for social media and informal text. Unlike machine learning approaches that 
            require training data, VADER works "out of the box" using a curated dictionary of words with pre-assigned sentiment scores.
          </p>
          <p><strong>The VADER process:</strong></p>
          <ol style="margin:0.5rem 0; padding-left:1.5rem;">
            <li><strong>Tokenization:</strong> The text is split into individual words (tokens)</li>
            <li><strong>Lexicon lookup:</strong> Each word is checked against a dictionary of ~7,500 words rated for sentiment 
                (e.g., "excellent" = +3.2, "terrible" = -2.9, "okay" = +0.9)</li>
            <li><strong>Context rules:</strong> VADER applies smart adjustments:
              <ul style="margin:0.25rem 0;">
                <li><em>Intensifiers</em> boost sentiment: "very good" is more positive than "good"</li>
                <li><em>Negations</em> flip sentiment: "not good" becomes negative</li>
                <li><em>Punctuation</em> adds emphasis: "Great!!!" is more positive than "Great"</li>
                <li><em>CAPS</em> increase intensity: "AMAZING" is stronger than "amazing"</li>
                <li><em>Contrastive conjunctions</em>: "but" shifts focus to the second clause</li>
              </ul>
            </li>
            <li><strong>Score normalization:</strong> Raw scores are normalized to a -1 to +1 scale</li>
          </ol>
        </details>
        
        <details class="intro-notes">
          <summary>Understanding the Four Scores</summary>
          <p>VADER produces four sentiment scores for each text record:</p>
          <table style="width:100%; border-collapse:collapse; margin:0.5rem 0; font-size:0.9rem;">
            <tr style="background:#f1f5f9;">
              <th style="text-align:left; padding:0.5rem; border:1px solid #e2e8f0;">Score</th>
              <th style="text-align:left; padding:0.5rem; border:1px solid #e2e8f0;">Range</th>
              <th style="text-align:left; padding:0.5rem; border:1px solid #e2e8f0;">What It Means</th>
            </tr>
            <tr>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;"><strong>Compound</strong></td>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;">-1 to +1</td>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;">The overall sentiment. This is the most useful single metric. 
                  Scores ‚â• 0.05 are positive, ‚â§ -0.05 are negative, and between is neutral.</td>
            </tr>
            <tr style="background:#f9fafb;">
              <td style="padding:0.5rem; border:1px solid #e2e8f0;"><strong>Positive</strong></td>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;">0 to 1</td>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;">Proportion of text that is positive. Example: 0.45 means 45% of the emotional content is positive.</td>
            </tr>
            <tr>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;"><strong>Neutral</strong></td>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;">0 to 1</td>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;">Proportion of text that is neutral (factual statements, filler words).</td>
            </tr>
            <tr style="background:#f9fafb;">
              <td style="padding:0.5rem; border:1px solid #e2e8f0;"><strong>Negative</strong></td>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;">0 to 1</td>
              <td style="padding:0.5rem; border:1px solid #e2e8f0;">Proportion of text that is negative. Example: 0.20 means 20% of the emotional content is negative.</td>
            </tr>
          </table>
          <p style="margin-top:0.5rem;"><strong>Note:</strong> Positive + Neutral + Negative always sum to 1.0 (100%), while Compound is calculated separately.</p>
          <div style="background:#f0f9ff; border-left:3px solid #3b82f6; padding:0.75rem; margin-top:0.75rem;">
            <p style="margin:0; font-weight:600; color:#1e40af;">üí° Which score should I use?</p>
            <p style="margin:0.5rem 0 0 0; font-size:0.9rem;">For most marketing analyses, focus on the <strong>Compound score</strong>‚Äîit's the overall sentiment. 
            The pos/neu/neg proportions are useful for understanding <em>why</em> the compound is what it is. For example, 
            a compound of 0.15 with pos=0.35, neu=0.60, neg=0.05 tells you "moderately positive, but mostly factual text with little emotion."</p>
          </div>
        </details>
        
        <details class="intro-notes">
          <summary>When to Use Sentiment Analysis</summary>
          <p><strong>Great use cases:</strong></p>
          <ul style="margin:0.25rem 0 0.5rem 0; padding-left:1.5rem;">
            <li>Monitoring brand perception across social media</li>
            <li>Analyzing customer reviews to identify pain points</li>
            <li>Comparing sentiment across product lines, time periods, or customer segments</li>
            <li>Prioritizing which feedback to investigate first (focus on negative comments)</li>
            <li>Tracking sentiment trends over time (before/after a campaign or product launch)</li>
          </ul>
          <p><strong>Limitations to keep in mind:</strong></p>
          <ul style="margin:0.25rem 0; padding-left:1.5rem;">
            <li><em>Sarcasm and irony</em> are often missed ("Oh great, another update that breaks everything")</li>
            <li><em>Domain-specific language</em> may not be in the lexicon (technical jargon, slang)</li>
            <li><em>Context matters</em>: "This phone is sick!" is positive in slang but appears negative</li>
            <li><em>Mixed sentiment</em> can average out: "The food was amazing but the service was terrible" may score neutral</li>
          </ul>
          <p style="margin-top:0.5rem;">Always spot-check results and use sentiment analysis as a starting point for deeper investigation, not a final answer.</p>
        </details>
        
        <details class="intro-notes">
          <summary>What This Lab Shows You</summary>
          <p>
            <strong>Per-record sentiment:</strong> Each row of your data receives all four sentiment scores, 
            plus a categorical label (positive / neutral / negative) based on the compound value.
          </p>
          <p>
            <strong>Summary statistics:</strong> See the overall distribution of sentiment across all records, 
            including averages, standard deviations, and the proportion falling into each category.
          </p>
          <p>
            <strong>Group comparisons:</strong> If your data has a grouping column (like brand or category), 
            compare sentiment across groups to identify leaders and laggards.
          </p>
          <p>
            <strong>Worked examples:</strong> For randomly chosen positive and negative samples, the lab shows a 
            token-by-token breakdown so you can see exactly how VADER computed the final scores.
          </p>
        </details>
      </div>
    </section>

    <section class="scenario-section" aria-labelledby="sentiment-scenarios-heading">
      <h2 id="sentiment-scenarios-heading">CASE STUDIES</h2>
      <div class="card">
        <div class="scenario-controls">
          <label for="sentiment-scenario-select">Load a sentiment case study</label>
          <div class="scenario-controls__input">
            <select id="sentiment-scenario-select">
              <option value="">Manual settings (no preset)</option>
            </select>
            <button id="scenario-download" class="secondary hidden" type="button" disabled>Download scenario dataset</button>
          </div>
        </div>
        <div id="sentiment-scenario-description">
          <p>
            Use these case studies to practice reading sentiment outputs before uploading your own data. Presets include
            simulated Reddit-style posts about a university‚Äôs online enrollment system and detailed reviews of a new
            influencer swimwear brand.
          </p>
        </div>
      </div>
    </section>

    <section class="input-card" aria-labelledby="sentiment-inputs-heading">
      <h2 id="sentiment-inputs-heading">LOAD TEXT DATA</h2>
      <article class="card data-entry-card">
        <div class="input-header">
          <h3>Upload or paste text</h3>
        </div>

        <div class="input-grid">
          <div>
            <label for="text-column-select">Text column (for CSV/TSV files)</label>
            <select id="text-column-select">
              <option value="">(Upload a file first)</option>
            </select>
            <p class="hint">Choose which column contains the text you want to analyze.</p>
          </div>
          <div>
            <label for="sentiment-file-input">Upload CSV/TSV file</label>
            <div id="sentiment-dropzone" class="dropzone" tabindex="0">
              <p class="dropzone__label">Drop a CSV/TSV file here or click to browse.</p>
              <button id="sentiment-browse-btn" type="button" class="secondary">Browse files</button>
              <input id="sentiment-file-input" type="file" style="display:none;" />
            </div>
            <div id="upload-error-details" class="upload-error-details hidden"></div>
            <p class="hint">The first row should contain column names; text should be in one of the columns.</p>
          </div>
        </div>

        <div class="input-grid grouping-options">
          <div>
            <label class="checkbox-label">
              <input type="checkbox" id="use-grouping-checkbox" />
              <span>Enable grouping by column</span>
            </label>
            <select id="group-column-select" disabled title="Select a column to group results by">
              <option value="">(Select a grouping column)</option>
            </select>
            <p class="hint">Optional: group results by a categorical column (e.g., brand, source, rating).</p>
          </div>
          <div>
            <label for="id-column-select">Row identifier column (optional)</label>
            <select id="id-column-select">
              <option value="">(None - use row numbers)</option>
            </select>
            <p class="hint">Optional: select a column to use as row identifiers in the output.</p>
          </div>
        </div>

        <div class="input-grid" style="margin-top:0.75rem;">
          <div>
            <label for="manual-textarea">Or paste text (one row per line)</label>
            <textarea id="manual-textarea" rows="5" placeholder="Paste sentences or reviews here, one per line."></textarea>
            <p class="hint">If you paste text here, the tool will ignore any uploaded file and use these lines instead.</p>
          </div>
          <div>
            <label>&nbsp;</label>
            <button type="button" id="run-sentiment-btn" class="primary">Run sentiment analysis</button>
            <p id="sentiment-status" class="hint"></p>
          </div>
        </div>
      </article>
    </section>

    <section class="visual-output" aria-labelledby="sentiment-output-heading">
      <h2 id="sentiment-output-heading">SUMMARY &amp; VISUALS</h2>
      <div class="card">
        <div class="chart-grid sentiment-grid">
          <article class="chart-card">
            <h3>Sentiment summary</h3>
            <div class="sentiment-summary">
              <div class="metric-output">
                <span>Average compound score:</span>
                <span id="sentiment-avg-compound" class="dynamic-value">&ndash;</span>
              </div>
              <div class="metric-output">
                <span>Records labeled positive:</span>
                <span id="sentiment-count-positive" class="dynamic-value">&ndash;</span>
              </div>
              <div class="metric-output">
                <span>Records labeled neutral:</span>
                <span id="sentiment-count-neutral" class="dynamic-value">&ndash;</span>
              </div>
              <div class="metric-output">
                <span>Records labeled negative:</span>
                <span id="sentiment-count-negative" class="dynamic-value">&ndash;</span>
              </div>
            </div>
            <p id="sentiment-summary-note" class="chart-note">
              Run the analysis to see overall sentiment across your text records.
            </p>
          </article>
          <article class="chart-card">
            <h3>Labels distribution</h3>
            <div id="sentiment-label-chart" class="chart-placeholder"></div>
            <p class="chart-note">
              This bar chart shows how many records are classified as positive, neutral, or negative based on VADER's compound
              score thresholds.
            </p>
          </article>
        </div>
      </div>
    </section>

    <section class="test-results" aria-labelledby="sentiment-details-heading">
      <h2 id="sentiment-details-heading">DETAILED RESULTS &amp; WORKED EXAMPLE</h2>
      <div class="card">
        <h3>Export Per-Record Results</h3>
        <p class="chart-note" style="margin-bottom:0.75rem;">Download the sentiment scores for all analyzed records as a CSV file.</p>
        <div class="export-controls">
          <button id="download-results-btn" type="button" class="secondary" disabled>Download Results CSV</button>
          <span id="download-results-status" class="hint"></span>
        </div>
      </div>

      <div class="card" style="margin-top:0.75rem;">
        <h3>How VADER scored two examples</h3>
        <p class="sentiment-example-text" id="sentiment-example-text-positive">
          Run the analysis to see how each token in a relatively positive record contributes to its final sentiment score.
        </p>
        <div id="sentiment-example-line-positive" class="sentiment-example-line"></div>
        <p id="sentiment-example-summary-positive" class="chart-note"></p>

        <p class="sentiment-example-text" id="sentiment-example-text-negative" style="margin-top:0.75rem;">
          Run the analysis to see how each token in a relatively negative record contributes to its final sentiment score.
        </p>
        <div id="sentiment-example-line-negative" class="sentiment-example-line"></div>
        <p id="sentiment-example-summary-negative" class="chart-note"></p>
        <details class="advanced-details" style="margin-top:0.5rem;">
          <summary>How this example is computed</summary>
          <p>
            The analyzer first tokenizes the sentence and looks up each token in a sentiment lexicon. Tokens with known sentiment
            (e.g., "great", "terrible") get a base score; others are neutral.
          </p>
          <p>
            Next, local rules adjust those base scores. Intensifiers like "very" or "extremely" boost nearby sentiment words;
            negations like "not" flip or attenuate scores; and all-caps or repeated punctuation can add emphasis.
          </p>
          <p>
            Finally, the adjusted token scores are combined into overall positive, neutral, and negative proportions and a
            single compound score in \([-1, 1]\). The example above shows each token's contribution so you can see how the
            final numbers arise from the text.
          </p>
        </details>
        <div style="background:#fef3c7; border-left:3px solid #f59e0b; padding:0.75rem; margin-top:0.75rem;">
          <p style="margin:0; font-weight:600; color:#92400e;">üîó Connecting Examples to Patterns</p>
          <p style="margin:0.5rem 0 0 0; font-size:0.9rem;">These examples show how VADER processes individual texts token-by-token. 
          To understand patterns across <strong>ALL</strong> your records, scroll down to the <strong>Sentiment Distribution (Histogram)</strong> 
          and <strong>Box Plot</strong>‚Äîthey reveal whether your entire dataset skews positive/negative or shows mixed opinions across many records.</p>
        </div>
      </div>
    </section>

    <section class="test-results" aria-labelledby="sentiment-report-heading">
      <h2 id="sentiment-report-heading">ANALYSIS REPORT</h2>
      <div class="dual-panels">
        <article class="card dual-panel">
          <h3>APA-Style Statistical Reporting</h3>
          <p id="sentiment-apa-report">Run the analysis to generate an APA-style report of your sentiment results.</p>
        </article>
        <article class="card dual-panel">
          <h3>Managerial Interpretation</h3>
          <p id="sentiment-managerial-report">Run the analysis to generate a managerial interpretation of your sentiment results.</p>
        </article>
      </div>

      <div id="grouped-summary-section" class="card hidden" style="margin-top:0.75rem;">
        <h3>Grouped Sentiment Comparison</h3>
        <p class="chart-note" style="margin-bottom:0.75rem;">Sentiment metrics broken down by group. Rows show statistics; columns show each group plus overall totals.</p>
        <div class="selection-table-wrapper">
          <table class="data-table" id="grouped-summary-table">
            <thead id="grouped-summary-thead">
              <!-- Filled dynamically -->
            </thead>
            <tbody id="grouped-summary-tbody">
              <!-- Filled dynamically -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="card" style="margin-top:0.75rem;">
        <h3>Summary of Estimates</h3>
        <div class="selection-table-wrapper">
          <table class="data-table" id="sentiment-summary-table">
            <thead>
              <tr>
                <th>Measure</th>
                <th>Estimate</th>
                <th>Std. Dev.</th>
                <th>Min</th>
                <th>Max</th>
              </tr>
            </thead>
            <tbody id="sentiment-summary-table-body">
              <!-- Filled dynamically -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="card" style="margin-top:0.75rem;">
        <h3>Sentiment Distribution: Histogram</h3>
        <div style="background:#f1f5f9; padding:0.75rem; margin-bottom:0.75rem; border-radius:0.25rem; font-size:0.9rem;">
          <p style="margin:0;"><strong>üìä How to read bar colors:</strong> Each bar represents a <em>range</em> of compound scores (e.g., 0.10 to 0.21). 
          Bars are colored based on where the bin center falls: <span style="color:#16a34a; font-weight:600;">green</span> for positive territory (‚â•0.05), 
          <span style="color:#dc2626; font-weight:600;">red</span> for negative (‚â§‚àí0.05), and <span style="color:#6b7280; font-weight:600;">gray</span> for neutral. 
          The bar's height shows how many records fall within that score range.</p>
        </div>
        <div id="chart-view-toggle-histogram" class="chart-view-toggle hidden">
          <button type="button" class="toggle-btn active" data-view="overall">Overall</button>
          <button type="button" class="toggle-btn" data-view="by-group">By Group</button>
        </div>
        <div id="sentiment-histogram-chart" class="chart-placeholder" style="min-height:280px;"></div>
        <div id="histogram-interpretation" class="chart-interpretation">
          <p>Run the analysis to see how compound sentiment scores are distributed across your text records.</p>
        </div>
      </div>

      <div id="boxplot-section" class="card hidden" style="margin-top:0.75rem;">
        <h3>Sentiment Distribution: Box Plot (By Group)</h3>
        <div style="background:#f1f5f9; padding:0.75rem; margin-bottom:0.75rem; border-radius:0.25rem; font-size:0.9rem;">
          <p style="margin:0;"><strong>üì¶ Box Plot Visual Guide:</strong> The <strong>box</strong> contains the middle 50% of your data. 
          The <strong>line inside the box</strong> is the median (half above, half below). The <strong>whiskers</strong> (lines extending from the box) 
          reach to typical extremes. <strong>Dots beyond whiskers</strong> are unusual outliers worth investigating individually. 
          Q1 and Q3 are the edges of the box (25th and 75th percentiles).</p>
        </div>
        <div id="sentiment-boxplot-chart" class="chart-placeholder" style="min-height:280px;"></div>
        <div id="boxplot-interpretation" class="chart-interpretation">
          <p>Run the analysis to see the spread, central tendency, and outliers in your sentiment data.</p>
        </div>
      </div>

    </section>
  </main>

  <footer class="app-footer">
    <div class="footer-content">
        <div class="footer-nav">
            <a href="../../../index.html">‚Üê Back to Tool Selection</a>
        </div>
        <div class="footer-meta">
            <span>Created: <span id="created-date">2025-11-25</span></span>
            <span class="meta-separator">&bull;</span>
            <span>Last Updated: <span id="modified-date">2025-12-11</span></span>
        </div>
        <div class="footer-citation">
            <span class="citation-label">Cite this tool</span>
            <p class="citation-text">
                Baker, A. (2025). <em>Sentiment Analysis Lab</em>. Marketing Analysis Tools.
                <br>
                <span style="font-size: 0.85em; color: #6b7280;">Retrieved from: https://drbakermarketing.com/apps/text_analysis/sentiment_lab/main_sentiment_lab.html</span>
            </p>
        </div>
        <div class="footer-copyright">
            &copy; 2025 Andrew Baker. All rights reserved.
        </div>
    </div>
  </footer>

  <script src="../../../shared/js/ui_utils.js"></script>
  <script src="../../../shared/js/auth_tracking.js"></script>
  <script src="../../../shared/js/auth_bar.js"></script>
  <script src="../../../shared/js/quiz_utils.js"></script>
  <script src="vader_analyzer.js"></script>
  <script src="sentiment_lab.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      initQuizButton('sentiment_lab');
    });
  </script>
</body>

</html>
